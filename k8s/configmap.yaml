apiVersion: v1
kind: ConfigMap
metadata:
  name: federated-learning-config
  namespace: healthcare-data-sharing
  labels:
    app: federated-learning-framework
    environment: production # Change to 'development' or 'staging' for other environments
data:
  # ============================
  # General Application Settings
  # ============================
  APP_ENV: "production" # Environment: development, staging, production
  APP_DEBUG: "false" # Debug mode: true for development, false for production
  APP_LOG_LEVEL: "INFO" # Logging level: DEBUG, INFO, WARN, ERROR

  # ============================
  # Python Application Settings
  # ============================
  PYTHON_MAX_WORKERS: "4" # Number of worker threads for Python processes
  PYTHON_TIMEOUT: "120" # Timeout for Python processes in seconds
  PYTHON_LOG_FORMAT: "%(asctime)s - %(name)s - %(levelname)s - %(message)s" # Log format for Python apps

  # ============================
  # Docker Settings
  # ============================
  DOCKER_IMAGE: "federated-learning:latest" # Docker image for the application
  DOCKER_NETWORK: "federated_network" # Docker network to use
  DOCKER_MEMORY_LIMIT: "512Mi" # Memory limit for Docker containers
  DOCKER_CPU_LIMIT: "500m" # CPU limit for Docker containers

  # ============================
  # JavaScript Frontend Settings
  # ============================
  JS_API_BASE_URL: "https://api.prod.healthcare-data-sharing.com" # Base URL for API calls
  JS_LOG_LEVEL: "error" # Logging level for JavaScript frontend: debug, info, warn, error

  # ============================
  # Database Configuration
  # ============================
  DB_HOST: "${DB_HOST}" # Database host (use environment variable for security)
  DB_PORT: "5432" # Database port
  DB_NAME: "federated_learning_prod" # Database name
  DB_USER: "${DB_USER}" # Database username (use environment variable for security)
  DB_PASSWORD: "${DB_PASSWORD}" # Database password (use environment variable for security)
  DB_POOL_SIZE: "10" # Connection pool size
  DB_TIMEOUT: "30" # Connection timeout in seconds

  # ============================
  # Redis Cache Configuration
  # ============================
  REDIS_HOST: "${REDIS_HOST}" # Redis host (use environment variable for security)
  REDIS_PORT: "6379" # Redis port
  REDIS_PASSWORD: "${REDIS_PASSWORD}" # Redis password (use environment variable for security)
  REDIS_DB: "0" # Redis database index
  REDIS_TIMEOUT: "60" # Timeout for Redis connections in seconds

  # ============================
  # Security Settings
  # ============================
  JWT_SECRET: "${JWT_SECRET}" # Secret key for JWT authentication (use environment variable for security)
  JWT_EXPIRATION: "3600" # JWT token expiration time in seconds
  CORS_ALLOWED_ORIGINS: "https://frontend.prod.healthcare-data-sharing.com" # Allowed origins for CORS
  RATE_LIMIT: "100" # Maximum number of requests per minute per user

  # ============================
  # Federated Learning Settings
  # ============================
  FL_GLOBAL_ROUNDS: "10" # Number of global training rounds
  FL_CLIENTS_PER_ROUND: "5" # Number of clients participating in each round
  FL_MODEL_SAVE_PATH: "/models/global_model" # Path to save the global model
  FL_AGGREGATION_METHOD: "FedAvg" # Aggregation method: FedAvg, FedProx, etc.
  FL_CLIENT_TIMEOUT: "300" # Timeout for client responses in seconds

  # ============================
  # Monitoring and Observability
  # ============================
  PROMETHEUS_SCRAPE_INTERVAL: "15s" # Interval for Prometheus to scrape metrics
  PROMETHEUS_PORT: "9090" # Port for Prometheus metrics
  LOGGING_SERVICE_URL: "https://logging.prod.healthcare-data-sharing.com" # URL for centralized logging service
  METRICS_EXPORTER_ENABLED: "true" # Enable metrics exporter for monitoring

  # ============================
  # Email Notifications
  # ============================
  EMAIL_SMTP_HOST: "${EMAIL_SMTP_HOST}" # SMTP server host
  EMAIL_SMTP_PORT: "587" # SMTP server port
  EMAIL_USERNAME: "${EMAIL_USERNAME}" # SMTP username (use environment variable for security)
  EMAIL_PASSWORD: "${EMAIL_PASSWORD}" # SMTP password (use environment variable for security)
  EMAIL_FROM: "no-reply@healthcare-data-sharing.com" # Default sender email address
  EMAIL_SUPPORT: "support@healthcare-data-sharing.com" # Support email address for user queries

  # ============================
  # Feature Flags
  # ============================
  FEATURE_X_ENABLED: "true" # Enable or disable Feature X
  FEATURE_Y_ENABLED: "false" # Enable or disable Feature Y
  FEATURE_Z_ENABLED: "true" # Enable or disable Feature Z

  # ============================
  # Resource Limits
  # ============================
  MAX_REQUESTS_PER_SECOND: "1000" # Maximum number of requests per second
  MAX_CONCURRENT_CONNECTIONS: "500" # Maximum number of concurrent connections
  MAX_PAYLOAD_SIZE: "10MB" # Maximum payload size for requests

  # ============================
  # Example Environment Variables
  # ============================
  # These are examples of environment variables that should be set in the deployment environment.
  # DB_HOST=prod-db.healthcare-data-sharing.com
  # DB_USER=prod_user
  # DB_PASSWORD=secure_password
  # REDIS_HOST=prod-redis.healthcare-data-sharing.com
  # REDIS_PASSWORD=secure_redis_password
  # JWT_SECRET=super_secret_jwt_key
  # EMAIL_SMTP_HOST=smtp.mailserver.com
  # EMAIL_USERNAME=email_user
  # EMAIL_PASSWORD=secure_email_password